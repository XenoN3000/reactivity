
name: Deploy to Liara


on:
  push:
    branches:
      - liara-publish

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Setup .NET Core
        uses: actions/setup-dotnet@v4.2
        with: 
          cache: 'false'
          dotnet-version: '8.0'
      
      
      
      - name: Build Project
        run: dotnet publish -c Release -o publish

      - name: Deploy to Liara
        uses: liara/reactivity
        with:
          liara_token: ${{ secrets.LIARA_TOKEN }}
          app_name: ${{ secrets.LIARA_APP_NAME }}
          path: ./publish